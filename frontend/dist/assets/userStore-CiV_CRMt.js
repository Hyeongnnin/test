import{a as o}from"./api-DXNNeTpL.js";import{G as i,D as c}from"./index-DamHdx69.js";const m=(t,n)=>{const r=t.__vccOpts||t;for(const[a,e]of n)r[a]=e;return r},s=c({id:null,username:"",first_name:"",last_name:"",email:"",phone_number:"",avatar:"",role:""});function f(){function t(a){Object.assign(s,a)}async function n(){try{const e=(await o.get("/accounts/profile/me/")).data;return t({id:e.id||null,username:e.username||"",first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone_number:e.phone_number||"",avatar:e.avatar||null}),e}catch(a){throw console.error("Failed to fetch profile",a),a}}function r(a){t(a)}return{user:i(s),setUser:t,fetchMe:n,updateUser:r}}export{m as _,f as u};
